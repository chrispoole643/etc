# -*- mode: shell-script -*-
################################################################################
#### zsh settings for Linux
#### ======================
#### 
################################################################################


################################################################################
### Paths and environment
################################################################################


export PATH="/home/chrispoole/bin:/usr/local/lib/python2.7:/home/chrispoole/.cabal/bin:/usr/local/texlive/2012/bin/x86_64-linux:/usr/local/bin:/usr/local/sbin:/usr/sbin:/usr/bin:/sbin:/bin"
export PYTHONPATH="/usr/local/lib/python2.7/site-packages"


if [ -f "$HOME/.zshrc-common" ]; then
    . "$HOME/.zshrc-common"
fi


################################################################################
### Aliases
################################################################################


alias open=xdg-open
alias cde='emacsclient -e "(dired \"$(pwd)\")"'

alias o='fasd -fe gnome-open'
alias od='fasd -ide gnome-open'
alias oi='fasd -iae gnome-open'


################################################################################
### Variables
################################################################################


cjp_gpg_key=1DE85A0C


################################################################################
### Functions
################################################################################


## gpg

_start-gpg-agent () {
    time=${1:-'1200'}                # 1200 seconds, 20 minutes
    eval $(gpg-agent -q --daemon --write-env-file "$HOME/.gpg-agent-info" \
        --default-cache-ttl "$time" \
        --max-cache-ttl 86400)      # 24 hours
    source "$HOME/.zshrc"           # Update environment variables
}

## tmux

_start-tmux () {
    tmux new -d -s main -n - \; splitw -h \; selectp -t1 
    tmux neww -n - \; splitw -h \; selectp -t1
    tmux neww -n - \; splitw -h \; selectp -t1
    tmux neww -n - \; splitw -h \; selectp -t1
    tmux selectw -t1 \; attach
}
